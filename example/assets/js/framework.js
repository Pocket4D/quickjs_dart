!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){(function(e){e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.judgeIsNotNull=function(e,t,a){return!!(e&&t&&a)},e.getExpValue=function(e,t){let a=new Function("","with(this){"+t+"}").bind(e)();return a instanceof Object||a instanceof Array?JSON.stringify(a):a},a(2)}).call(this,a(0))},function(module,exports,__webpack_require__){(function(global){function loadPage(pageId){if(!pageId)return;function DP(e){this.pageId=e,this.requestData={},this.onNetworkResult=function(e,t,a){let r=this.requestData[e];r&&("sudpess"===t?r.sudpess(JSON.parse(a)):r.fail(JSON.parse(a)),r.complete())}}function RealPage(pageId){this.observer=new Observer,this.pageId=pageId,this.dp=new DP(pageId);let dp=this.dp;function setTimeout(e,t,...a){let r=guid();return callbacks[r]=e,callbackArgs[r]=a,__native__setTimeout(pageId,r,t),r}function clearTimeout(e){callbacks[e]&&(callbacks[e]=void 0,callbackArgs[e]=void 0),__native__clearTimeout(e)}function setInterval(e,t,...a){let r=guid();return callbacks[r]=e,callbackArgs[r]=a,__native__setInterval(pageId,r,t),r}function clearInterval(e){callbacks[e]&&(callbacks[e]=void 0,callbackArgs[e]=void 0),__native__clearInterval(e)}this.__native__evalInPage=function(jsContent){jsContent||console.log("js content is empty!"),eval(jsContent)},this.__native__getExpValue=function(e,t,a,r,n){if(!0===r){let r=new Watcher(e,t,a,n);this.observer.currentWatcher=r,this.observer.addWatcher(r)}let i=getExpValue(this.data,n);return!0===r&&(this.observer.currentWatcher=void 0),i},this.__native__initComplete=function(){this.observer.observe(this.data)},this.setData=function(dataObj){console.log("call setData");for(let key in dataObj){let str="this.data."+key+" = dataObj['"+key+"']";eval(str)}let startTime=Date.now(),needUpdateMapping=this.observer.assembler.getNeedUpdateMapping(),endTime=Date.now();console.log("耗时:"+(endTime-startTime)),needUpdateMapping&&this.__native__refresh(needUpdateMapping)},this.__native__removeObserverByIds=function(e){this.observer.removeWatcher(e)}}let pageObj=new RealPage(pageId);cachePage(pageId,pageObj)}function cachePage(e,t){t?pages[e]=t:console.log("page: ("+e+") is empty")}function removePage(e){pages[e]=void 0}function callback(e){let t=callbacks[e];if(t){t(callbackArgs[e])}else console.log("callback: ("+e+") is empty")}__webpack_require__(3),global.pages={},global.callbacks={},global.callbackArgs={},global.getPage=function(e){return pages[e]},global.Page=function(e){global.page=e},global.loadPage=loadPage,global.callback=callback,global.removePage=removePage}).call(this,__webpack_require__(0))},function(e,t,a){(function(e){class t{constructor(e){this.observer=e,this.watchers={}}addWatcher(e){this.watchers[e.key()]=e}removeWatcher(e){this.watchers[e]&&delete this.watchers[e]}notify(e){for(const t in this.watchers){let a=this.watchers[t];a.value=getExpValue(e,a.script),this.observer.assembler.addPackagingObject(a.format())}}}class a{constructor(){this.packagingArray=[]}addPackagingObject(e){this.packagingArray.push(e)}getNeedUpdateMapping(){let e=this.packing();return this.packagingArray=[],e}packing(){let e=JSON.stringify(this.packagingArray);return console.log("组装映射结果:"+e),e}}e.Observer=class{constructor(){this.currentWatcher=void 0,this.collectors=[],this.watchers={},this.assembler=new a}observe(e){if(e&&void 0!==e&&"object"==typeof e)for(const t in e){let a=e[t];void 0!==a&&this.defineReactive(e,t,a)}}defineReactive(e,a,r){const n=Object.getOwnPropertyDescriptor(e,a);if(n&&!1===n.configurable)return;const i=n&&n.get,c=n&&n.set;i&&!c||2!==arguments.length||(r=e[a]);let s=this,o=new t(s);this.collectors.push(o),Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:function(){const t=i?i.call(e):r;return s.currentWatcher&&o.addWatcher(s.currentWatcher),t},set:function(t){const a=i?i.call(e):r;t===a||t!=t&&a!=a||(c?c.call(e,t):r=t,o.notify(e))}})}addWatcher(e){void 0===this.watchers[e.id]&&(this.watchers[e.id]=[]),this.watchers[e.id].push(e)}removeWatcher(e){if(e){let t=[];e.forEach(e=>{this.watchers[e]&&(this.watchers[e].forEach(e=>{t.push(e.key())}),this.watchers[e]=void 0)}),this.collectors&&this.collectors.forEach(e=>{t.forEach(t=>{e.removeWatcher(t)})})}}},e.Watcher=class{constructor(e,t,a,r){this.id=e,this.type=t,this.script=r,this.prefix=a,this.value={}}format(){let e={};return e.id=this.id,e.type=this.type,e.key=this.prefix,e.value=this.value,e}key(){return this.id+"-"+this.type+"-"+this.script}}}).call(this,a(0))}]);